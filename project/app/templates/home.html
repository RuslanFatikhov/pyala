{% extends "base.html" %}
{% block title %}Главная - Керамические пиалы{% endblock %}
{% block content %}
<!--Hero-->
<div class="hero">
    <a href="{{ url_for('public.catalog') }}" class="hero-banner">
        <img src="{{ url_for('static', filename='img/banner-catalog.jpg') }}" alt="Керамические пиалы" class="hero-image">
    </a>
    <a href="{{ url_for('public.catalog') }}" class="hero-banner">
        <img src="{{ url_for('static', filename='img/banner-delivery.jpg') }}" alt="Керамические пиалы" class="hero-image">
    </a>
</div>

<!-- Featured Products Section -->
<section class="featured-products">
    <div class="container">
        <div class="products-grid">
            {% for product in products %}
                <div class="product-card">
                    <a href="{{ url_for('public.product_detail', sku=product.sku) }}">
                        {% set product_imgs = product_images(product.sku, 2) %}
                        {% if product_imgs and product_imgs|length > 0 and not product_imgs[0].endswith('no-image.jpg') %}
                            {% set main_image = product_imgs[0] %}
                            {% set hover_image = product_imgs[1] if product_imgs|length > 1 else product_imgs[0] %}
                            
                            <div class="product-image">
                                <img class="main-image"
                                     src="{{ main_image }}"
                                     alt="{{ product.title }}"
                                     loading="lazy">
                                <img class="secondary-image"
                                     src="{{ hover_image }}"
                                     alt="{{ product.title }}"
                                     loading="lazy">
                            </div>
                        {% else %}
                            <div class="product-image">
                                <img class="main-image"
                                     src="/static/img/goods/no-image.jpg"
                                     alt="Изображение недоступно"
                                     loading="lazy">
                            </div>
                        {% endif %}
                        
                        <h3>{{ product.title }}</h3>
                        <div class="price">
                            <span class="current-price">{{ product.price }} {{ config.get('CURRENCY', '₽') }}</span>
                            {% if product.old_price %}
                                <span class="old-price">{{ product.old_price }} {{ config.get('CURRENCY', '₽') }}</span>
                            {% endif %}
                        </div>
                    </a>
                </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock %}