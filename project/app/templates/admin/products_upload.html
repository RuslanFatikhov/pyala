{% extends "admin/base.html" %}

{% block title %}–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤{% endblock %}

{% block content %}
<h1>–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤</h1>

<div class="upload-section">
    <div class="upload-instructions">
        <h3>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–≥—Ä—É–∑–∫–µ</h3>
        <ul>
            <li>–§–∞–π–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ CSV —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π UTF-8</li>
            <li>–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏: <code>sku, title, price, old_price, category, volume_ml, color, stock, is_active, description</code></li>
            <li>SKU –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏</li>
            <li>is_active –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 0 –∏–ª–∏ 1</li>
            <li><strong>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</strong> –ø–æ SKU –∏–∑ –ø–∞–ø–∫–∏ <code>static/img/goods/</code></li>
            <li>–§–æ—Ä–º–∞—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: <code>SKU_1.jpg, SKU_2.jpg, ... SKU_10.jpg</code> (—Ä–µ–≥–∏—Å—Ç—Ä –Ω–µ –≤–∞–∂–µ–Ω)</li>
            <li>–ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω–∞ –∑–∞–≥–ª—É—à–∫–∞ <code>no-image.jpg</code></li>
            <li>–ü–µ—Ä–µ–¥ –∑–∞–º–µ–Ω–æ–π —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø</li>
        </ul>
        
        <div class="info-block">
            <h4>üìÅ –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</h4>
            <p>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –¥–æ–ª–∂–Ω—ã –ª–µ–∂–∞—Ç—å –≤ –ø–∞–ø–∫–µ <code>/static/img/goods/</code> –∏ –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è:</p>
            <ul>
                <li><code>PIA-001_1.jpg</code> - –æ—Å–Ω–æ–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</li>
                <li><code>PIA-001_2.jpg</code> - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</li>
                <li><code>PIA-001_3.jpg</code> - –µ—â–µ –æ–¥–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</li>
                <li>... –∏ —Ç–∞–∫ –¥–æ <code>PIA-001_10.jpg</code></li>
            </ul>
            <p>–†–µ–≥–∏—Å—Ç—Ä –±—É–∫–≤ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤ –Ω–µ –≤–∞–∂–µ–Ω (<code>pia-001_1.jpg</code> —Ç–æ–∂–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç)</p>
        </div>
        
        <p><a href="{{ url_for('admin.download_products') }}" class="btn btn-outline">–°–∫–∞—á–∞—Ç—å —Ç–µ–∫—É—â–∏–π —Ñ–∞–π–ª</a></p>
    </div>
    
    {% if validation_errors %}
        <div class="validation-errors">
            <h3>–û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏</h3>
            <ul>
                {% for error in validation_errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}
    
    <form method="POST" enctype="multipart/form-data" class="upload-form">
        <div class="form-group">
            <label for="file">–í—ã–±–µ—Ä–∏—Ç–µ CSV —Ñ–∞–π–ª:</label>
            <input type="file" id="file" name="file" accept=".csv" required>
        </div>
        
        <button type="submit" class="btn btn-primary">–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏ –∑–∞–º–µ–Ω–∏—Ç—å</button>
        <a href="{{ url_for('admin.dashboard') }}" class="btn btn-outline">–û—Ç–º–µ–Ω–∞</a>
    </form>
</div>

<div class="csv-example">
    <h3>–ü—Ä–∏–º–µ—Ä CSV —Ñ–∞–π–ª–∞</h3>
    <pre>sku,title,price,old_price,category,volume_ml,color,stock,is_active,description
PIA-001,–ü–∏–∞–ª–∞ —Ü–µ–ª–∞–¥–æ–Ω 90 –º–ª,5990,,–ø–∏–∞–ª—ã,90,–∑–µ–ª—ë–Ω—ã–π,3,1,"–ì–ª–∞–∑—É—Ä—å —Ü–µ–ª–∞–¥–æ–Ω"
PIA-002,–ú–∞—Ç–æ–≤–∞—è —Ç—ë–º–Ω–∞—è 70 –º–ª,7990,8990,–ø–∏–∞–ª—ã,70,—á—ë—Ä–Ω—ã–π,1,1,"–§–∞–∫—Ç—É—Ä–Ω–∞—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å"</pre>
    
    <div class="csv-note">
        <strong>–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ:</strong> –ö–æ–ª–æ–Ω–∫–∞ <code>images</code> –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–∞! 
        –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –±—É–¥—É—Ç –Ω–∞–π–¥–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ –ø–∞–ø–∫–µ <code>static/img/goods/</code> –ø–æ SKU.
    </div>
</div>

<style>
.info-block {
    background: #f8f9fa;
    border-left: 4px solid #007bff;
    padding: 1rem;
    margin: 1rem 0;
}

.info-block h4 {
    margin-top: 0;
    color: #007bff;
}

.info-block ul {
    margin-bottom: 0.5rem;
}

.csv-note {
    background: #fff3cd;
    border: 1px solid #ffeaa7;
    color: #856404;
    padding: 0.75rem;
    border-radius: 4px;
    margin-top: 1rem;
}

.upload-instructions code {
    background: #f8f9fa;
    padding: 2px 4px;
    border-radius: 3px;
    font-family: 'Courier New', monospace;
    color: #e83e8c;
}
</style>

{% endblock %}